<ion-header>
    <ion-navbar>
        <ion-title>Product</ion-title>
    </ion-navbar>
</ion-header>

<ion-content>
    <ion-card *ngIf="property.id">
         <img src="http://riceupfarmers.org/wp-content/system/uploads/{{ property.photo_url }}.jpg?{{timee}}" alt="loading..."    onError="this.src='http://riceupfarmers.org/wp-content/system/product.jpg';" />
        <ion-card-content>
            <h2 class="card-title">{{property.product_name}}</h2>
            <p style="white-space: pre-line">{{property.product_desc}}</p>
        </ion-card-content>
        <ion-list>

            <ion-item>
                <ion-icon item-left name="ios-archive"></ion-icon>
                <h3>Stocks</h3>
                <ion-note item-right>{{property.stocks_available}}</ion-note>
            </ion-item>

            <ion-item>
                <ion-icon item-left name="ios-archive"></ion-icon>
                <h3>Reserved</h3>
                <ion-note item-right>{{property.reserved}}</ion-note>
            </ion-item>
            <ion-item>
                <ion-icon item-left name="ios-clipboard"></ion-icon>
                <h3>Unit Type</h3>
                <ion-note item-right>{{property.unit_type}}</ion-note>
            </ion-item>
            <ion-item>
                <ion-icon item-left name="pricetag"></ion-icon>
                <h3>Price Per Unit</h3>
                <ion-note item-right>{{property.price_per_unit}}</ion-note>
            </ion-item>
            <ion-item>
                <ion-icon item-left name="md-calendar"></ion-icon>
                <h3>Date of Harvest</h3>
                <ion-note item-right>{{property.date_of_harvest}}</ion-note>
            </ion-item>
            <button ion-item (click)="openBrokerDetail(property.user)">
                <ion-avatar item-left>
                    <img src="http://riceupfarmers.org/wp-content/system/uploads/s{{ property.user.id }}.jpg?{{timee}}"  alt="loading..."   onError="this.src='http://riceupfarmers.org/wp-content/system/suser.jpg';" />
                </ion-avatar>
                <h2>{{property.user.lastname }}, {{ property.user.firstname }} {{ property.user.middlename }}</h2>
                <p>{{ property.user.business_name }}</p>
            </button>
        </ion-list>
        <ion-item>
                <ion-icon name="cart" item-left ></ion-icon>
                <h3 item-left >Quantity:</h3>
                
                <div item-right>
                <button ion-button style="width: 40px; height: 40px" (click)="subq()">
                <ion-icon name="md-remove"></ion-icon></button>

                    <input text-center style="text-align:center;width: 60px; height: 45px;border:none" class="text-center" type="number"  [(ngModel)]="quantity"  min="0"  max="{{property.stocks_available}}">
                    
                <button ion-button  style="width: 40px; height: 40px" (click)="addq()">
                <ion-icon name="md-add"></ion-icon></button>
                </div>
            </ion-item>
            <ion-item>
                <ion-icon item-left name="cash"></ion-icon>
                <h3>Total Price:</h3>
                <ion-note item-right>P{{ ((quantity) * (property.price_per_unit)) | number:'1.2-2'}}</ion-note>
            </ion-item>

        <button ion-button class="submit-btn" block  (click)="addtocart()">Add to Cart</button>


    </ion-card>
</ion-content>
