<ion-header>

    <ion-navbar>
        
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>My Account</ion-title>
    </ion-navbar>
</ion-header>

<ion-content class="broker">
    <ion-fab right edge style="top:0">
    <button ion-fab mini  style="background-color: #f4f4f4;color:#212121;"><ion-icon name="md-settings" >
    </ion-icon>
                    
    </button>
                    <ion-select  [(ngModel)]="option" (ionChange)="onSelectChange($event)" style="width: 0 !important">
                      <ion-option value="a1">Update Account</ion-option>
                      <ion-option value="a2">Change Picture</ion-option>
                      <ion-option value="a3">Change Password</ion-option>   
                    </ion-select>
  </ion-fab>
    <ion-card  *ngIf="viewMode2==='list'">

        <ion-card-content>
            
         <img src="http://riceupfarmers.org/wp-content/system/uploads/{{ user.id }}.jpg?{{timee}}" alt="loading..."  onError="this.src='http://riceupfarmers.org/wp-content/system/user.jpg';" />

            <h2>{{user.lastname}}, {{user.firstname}} {{user.middlename}}<br>({{user.username}})</h2>
            <h3>{{user.business_name}}</h3>
        </ion-card-content>

        <ion-list>
            <a href="tel:{{user.mobile_number}}" ion-item>
                <ion-icon name="text" item-left></ion-icon>
                <p>Call/Text</p>
                <h2>{{user.mobile_no}}</h2>
            </a>
            <a href="mailto:{{user.email_address}}" ion-item>
                <ion-icon name="mail" item-left></ion-icon>
                <p>Email</p>
                <h2>{{user.email}}</h2>
            </a>
            <a href="#" ion-item>
                <ion-icon name="pin" item-left></ion-icon>
                <p>Address</p>
                <h2>{{user.address}}</h2>
            </a>
        </ion-list>
    </ion-card>

    <div  *ngIf="viewMode2==='map'">
            <div *ngIf="isfarmer===0" style="margin-top: 20px;margin-left: 10px;">
                        Your farmer Info is not available.
            </div>

            <div  *ngIf="isfarmer===1">
                <div style="width:100%;height:300px;" id="map"></div>

            <a href="#" ion-item>
                <p>Business Name:</p>
                <h2>{{user.business_name}}</h2>
            </a>
            <a href="#" ion-item>
                <p>Years in Business:</p>
                <h2>{{user.years_in_business}}</h2>
            </a>
            <a href="#" ion-item>
                <p>Years in Farming:</p>
                <h2>{{user.years_in_farming}}</h2>
            </a>
            </div>
    </div>

</ion-content>

<ion-footer padding>
    <ion-segment [(ngModel)]="viewMode2">
        <ion-segment-button value="list">
            General Info
        </ion-segment-button>
        <ion-segment-button value="map" (click)="showMap()">
            Farmer Info
        </ion-segment-button>
    </ion-segment>
</ion-footer>